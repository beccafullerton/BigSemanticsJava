{"meta_metadata_repository":{"name":"wikipedia","package":"ecologylab.semantics.generated.library.wikipedia","default_user_agent_name":"chrome_2","meta_metadata":[{"name":"wikipedia_search","comment":"Wikipedia Web Search Class","type":"search","user_agent_name":"firefox_2","parser":"xpath","visibility":"GLOBAL","kids":[{"collection":{"name":"search_results","xpath":"\/\/div[@id='bodyContent']\/div[@class='searchresults']\/ul[@class='mw-search-results']\/li","kids":[{"scalar":{"name":"title","xpath":".\/div[@class='mw-search-result-heading']\/a","kids":[]}},{"scalar":{"name":"location","xpath":".\/div[@class='mw-search-result-heading']\/a\/@href","kids":[]}},{"scalar":{"name":"description","xpath":".\/div[@class='searchresult']","kids":[]}}]}}],"selector":[{"url_stripped":"http:\/\/en.wikipedia.org\/w\/index.php?title=Special%3ASearch"}]},{"name":"wikipedia_page_type","comment":"An article on wikipedia","extends":"compound_document","visibility":"GLOBAL","kids":[{"collection":{"name":"paragraphs","comment":"Paragraphs in the article.","child_type":"paragraph","child_extends":"metadata","kids":[{"scalar":{"name":"paragraph_text","scalar_type":"String","kids":[]}},{"collection":{"name":"anchors","comment":"Anchors (links) in the paragraph, typically links to another Wikipedia article.","child_type":"wiki_anchor","child_extends":"metadata","kids":[{"scalar":{"name":"link","scalar_type":"ParsedURL","kids":[]}},{"scalar":{"name":"anchor_text","scalar_type":"String","kids":[]}},{"scalar":{"name":"target_title","scalar_type":"String","kids":[]}}]}}]}},{"collection":{"name":"categories","comment":"Wikipedia Categories","child_type":"category","child_extends":"metadata","kids":[{"scalar":{"name":"name","navigates_to":"cat_link","scalar_type":"String","kids":[]}},{"scalar":{"name":"cat_link","hide":"true","scalar_type":"ParsedURL","kids":[]}}]}},{"collection":{"name":"thumbinners","hide":"true","child_type":"thumbinner","child_extends":"metadata","kids":[{"scalar":{"name":"thumb_img_src","scalar_type":"ParsedURL","kids":[]}},{"scalar":{"name":"thumb_img_caption","scalar_type":"String","kids":[]}}]}}]},{"name":"wikipedia_page","comment":"An article on wikipedia (used in cF)","extends":"wikipedia_page_type","parser":"xpath","visibility":"GLOBAL","kids":[{"scalar":{"name":"title","xpath":"\/\/*[@id='firstHeading']","kids":[]}},{"scalar":{"name":"description","xpath":"\/\/*[@id='bodyContent']\/p[1]","kids":[]}},{"scalar":{"name":"main_image_src","xpath":".\/@src","context_node":"main_image","hide":"true","scalar_type":"ParsedURL","kids":[]}},{"collection":{"name":"paragraphs","xpath":"\/\/*[@id='bodyContent']\/p[string-length(text()) > 0]","hide":"true","child_type":"paragraph","kids":[{"scalar":{"name":"paragraph_text","xpath":".","kids":[]}},{"collection":{"name":"anchors","xpath":".\/a[@title]","kids":[{"scalar":{"name":"link","xpath":".\/@href","kids":[]}},{"scalar":{"name":"anchor_text","xpath":".","kids":[]}},{"scalar":{"name":"target_title","xpath":".\/@title","kids":[]}}]}}]}},{"collection":{"name":"categories","xpath":"\/\/*[@id='mw-normal-catlinks']\/\/a[starts-with(@title,'Category:')]","promote_children":"true","child_type":"category","kids":[{"scalar":{"name":"name","xpath":".","kids":[]}},{"scalar":{"name":"cat_link","xpath":".\/@href","kids":[]}}]}},{"collection":{"name":"thumbinners","xpath":"\/\/*[@class='thumbinner']","child_type":"thumbinner","kids":[{"scalar":{"name":"thumb_img_src","xpath":".\/a\/img\/@src","kids":[]}},{"scalar":{"name":"thumb_img_caption","xpath":".","kids":[]}}]}}],"def_var":[{"name":"main_image","xpath":"\/\/*[starts-with(@class,'infobox')]\/\/img[1]","type":"node"}],"selector":[{"url_regex":"http:\/\/en.wikipedia.org\/wiki\/[^\/:]*","domain":"wikipedia.org"}],"semantic_actions":[{"get_field":{"name":"main_image_src","arg":[]}},{"if":{"checks":[{"not_null":{"value":"main_image_src"}}],"arg":[],"nested_semantic_action_list":[{"create_and_visualize_img_surrogate":{"arg":[{"name":"image_purl","value":"main_image_src"}]}}]}},{"get_field":{"name":"paragraphs","arg":[]}},{"for_each":{"collection":"paragraphs","as":"para","current_index":"para_index","size":"para_list_size","arg":[],"nested_semantic_action_list":[{"get_field":{"object":"para","name":"paragraph_text","arg":[]}},{"get_field":{"object":"para","name":"anchors","arg":[]}},{"for_each":{"collection":"anchors","as":"anch","current_index":"cur_anchor_index","size":"anchor_list_size","arg":[],"nested_semantic_action_list":[{"get_field":{"object":"anch","name":"link","arg":[]}},{"get_field":{"object":"anch","name":"anchor_text","arg":[]}},{"if":{"checks":[{"not_null":{"value":"anchor_text"}},{"not_null":{"value":"link"}}],"arg":[],"nested_semantic_action_list":[{"parse_document":{"link_type":"OTHER_SEMANTIC_ACTION","only_pick_top_documents":"true","number_of_top_documents":"5","arg":[{"name":"anchor_text","value":"anchor_text"},{"name":"ignore_context_for_tv","value":"true"},{"name":"location","value":"link"},{"name":"outer_loop_size","value":"para_list_size"},{"name":"outer_loop_index","value":"para_index"},{"name":"current_index","value":"cur_anchor_index"},{"name":"size","value":"anchor_list_size"}]}}]}}]}},{"create_and_visualize_text_surrogate":{"arg":[{"name":"text","value":"paragraph_text"}]}}]}},{"get_field":{"name":"thumbinners","arg":[]}},{"for_each":{"collection":"thumbinners","as":"thumbinner","arg":[],"nested_semantic_action_list":[{"get_field":{"object":"thumbinner","name":"thumb_img_src","arg":[]}},{"get_field":{"object":"thumbinner","name":"thumb_img_caption","arg":[]}},{"if":{"checks":[{"not_null":{"value":"thumb_img_src"}},{"not_null":{"value":"thumb_img_caption"}}],"arg":[],"nested_semantic_action_list":[{"create_and_visualize_img_surrogate":{"arg":[{"name":"caption","value":"thumb_img_caption"},{"name":"image_purl","value":"thumb_img_src"}]}}]}}]}}]},{"name":"wikipedia_page_for_parsing","comment":"Used to parse wikipedia pages for concept mapping project.","type":"wikipedia_page_type","parser":"xpath","visibility":"GLOBAL","kids":[{"collection":{"name":"paragraphs","xpath":"\/\/p[string-length(.)>1]","kids":[{"scalar":{"name":"paragraph_text","xpath":".","kids":[]}},{"collection":{"name":"anchors","xpath":".\/a[string-length(@title)>0]","kids":[{"scalar":{"name":"link","xpath":".\/@href","kids":[]}},{"scalar":{"name":"anchor_text","xpath":".","kids":[]}},{"scalar":{"name":"target_title","xpath":".\/@title","kids":[]}}]}}]}}]}]}}